{"version":3,"sources":["examples/markdown/navigation.jsx","examples/markdown/show.jsx"],"names":["Navigation","Link","getAnchorList","str","pattern","list","replace","$0","$1","title","href","pushItem","arr","item","len","matchItem","length","tag","children","push","article","map","renderLink","sub","Show","markdownText","anchors","axios","get","then","res","setState","content","state","handleClick","__html","Component"],"mappings":"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","file":"show.ca3bc480.js","sourceRoot":"../../src","sourcesContent":["import React from 'react'\nimport { Anchor } from 'antd'\nconst { Link } = Anchor\n\n// 根据 article 来生成锚点列表\nfunction getAnchorList(str) {\n  const pattern = /<(h[1-6])[\\s\\S]+?(?=<\\/\\1>)/g\n  let list = []\n  function pushItem(arr, item) {\n    const len = arr.length\n    const matchItem = arr[len - 1]\n    if (matchItem && matchItem.tag !== item.tag) {\n      pushItem(matchItem.children, item)\n    } else {\n      arr.push(item)\n      // debugger\n    }\n  }\n  str.replace(pattern, ($0, $1) => {\n    const title = $0.replace(/.*?>/, '')\n    const href = `#${title.replace(/\\s/g, '-')}` // 转化为锚地可跳转的路径\n    const currentItem = {\n      tag: $1, // 标签类型\n      title,\n      href,\n      children: []\n    }\n    pushItem(list, currentItem)\n  })\n  return list\n}\n\nconst Navigation = ({ article }) => {\n  const list = getAnchorList(article)\n  function renderLink({ href, title, children }) {\n    return (\n      <Link key={href} href={href} title={title}>\n        {children.length > 0 && children.map(sub => renderLink(sub))}\n      </Link>\n    )\n  }\n  return <Anchor affix={false}>{list.map(renderLink)}</Anchor>\n}\n\nexport default Navigation\n","import React, { Component } from 'react'\nimport Navigation from './navigation'\n\nclass Show extends Component {\n  state = { markdownText: '', anchors: [] }\n\n  componentDidMount() {\n    this.axios.get('/examples/md').then(res => {\n      this.setState({ markdownText: res.content })\n    })\n  }\n\n  render() {\n    const { markdownText } = this.state\n    return (\n      <div>\n        <button onClick={this.handleClick}>click</button>\n        <div className=\"test\">\n          <Navigation article={markdownText} />\n        </div>\n\n        <div className=\"article-detail\" dangerouslySetInnerHTML={{ __html: this.state.markdownText }} />\n\n        <a href=\"#a\">aa</a>\n      </div>\n    )\n  }\n}\n\nexport default Show\n"]}